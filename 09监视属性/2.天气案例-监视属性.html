<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>天气案例</title>
</head>
<body>
<div id="app">
    <!--
        监视属性
            1.当监视属性变换时，回调函数自动调用，进行相关操作
            2.监视属性必须存在时，才能被监视
            3.监视属性的两种写法
                a. new Vue实例的时候直接通过watch
                b. 通过Vue实例对象进行调用 app.$watch(obj, {

                })
    -->
    <h2>今天天气很{{info}}!</h2>

    <!--    <button @click="isHot = !isHot">切换天气</button>-->
    <button @click="changeWeather">切换天气</button>
</div>
<script src="../js/vue.js"></script>
<script>

    const app = new Vue({
        el: "#app",
        data: {
            isHot: true
        },
        computed: {
            info: {
                get() {
                    return this.isHot ? "炎热" : "凉爽"
                }
            }
        },
        methods: {
            changeWeather() {
                this.isHot = !this.isHot
            }
        },
        /*watch:{
            isHot:{
                immediate: true, //初始化的时候让handler调用
                // 当isHot发生改变的时候调用
                handler(nv, ov){
                    console.log('isHot 被改了!', nv, ov)
                }
            }
        }*/
    })
    app.$watch('isHot', {
        immediate: true, //初始化的时候让handler调用
        // 当isHot发生改变的时候调用
        handler(nv, ov) {
            console.log('isHot 被改了!', nv, ov)
        }
    })
</script>
</body>
</html>